<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="8 Docker productivity hacks for better living | vamp.io">
        
        <meta property="og:type" content="article">
        
        <meta property="og:url" content="http://vamp.io/2015/06/8-docker-productivity-hacks/">
        <meta property="og:image" content="http://vamp.io/img/vamp_logo_blue_circle.png">
        <meta property="og:site_name" content="Vamp.io">
        
            
                <meta name="description" content="8 Docker tips and tricks for daily Docker usage">
                <meta property="og:description" content="8 Docker tips and tricks for daily Docker usage">
                <meta property="twitter:description" content="8 Docker tips and tricks for daily Docker usage">
            
            
                <meta name="keywords" content="articles Docker tips tricks linux one-liners ">
                            
        
        <meta property="twitter:site" content="vamp.io">
        <meta property="twitter:title" content="8 Docker productivity hacks for better living | vamp.io">
        <meta property="twitter:image" content="http://vamp.io/img/vamp_logo_blue.png">        
        <meta property="twitter:creator" content="vamp.io">    
        <meta property="twitter:url" content="http://vamp.io/2015/06/8-docker-productivity-hacks/">    
        <meta property="twitter:card" content="summary">    
        <title>8 Docker productivity hacks for better living - blog -  Vamp :: The Very Awesome Microservices Platform</title>
        <link rel="stylesheet" href="http://vamp.io/vendor/theme/flat-ui/bootstrap/css/bootstrap.css">
        <link rel="stylesheet" href="http://vamp.io/css/flat-ui.min.css">
        <link rel="stylesheet" href="http://vamp.io/vendor/theme/common-files/css/icon-font.css">
        <link rel="stylesheet" href="http://vamp.io/vendor/theme/common-files/css/animations.css">
        <link rel="stylesheet" href="http://vamp.io/css/ui.min.css" >
        <link rel="icon" type="image/png" sizes="192x192"  href="http://vamp.io/img/favicon-192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="http://vamp.io/img/favicon-32.png">

        
        <script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
    mixpanel.init("3dc73f826819c8e11d0d9898ca4291c8");</script>
        
    </head>
<body>
<div class="page-wrapper">

<header class="header-3">
    <div class="container">
        <div class="row">
            <div class="navbar col-sm-12" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle"></button>
                    <a class="logo" href="http://vamp.io/"><img src="http://vamp.io/img/vamp_logo_blue_circle.svg" alt="vamp"></a>
                    <span id="alpha">alpha</span>
                </div>
                <div class="collapse navbar-collapse pull-right">
                    <ul class="nav pull-left">
                        <li><a href="http://vamp.io/documentation/">WHAT IS VAMP?</a></li>
                        <li><a href="http://vamp.io/quick-start/">QUICK START</a></li>
                        <li><a href="http://vamp.io/documentation/">DOCS</a></li>
                        <li><a href="http://vamp.io/blog/">BLOG</a></li>
                        <li><a href="https://github.com/magneticio/vamp/" target="_blank">GITHUB</a></li>
                        <li><a href="https://gitter.im/magneticio/vamp" target="_blank">Gitter</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="header-background"></div>
</header>

<section class="subheader">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                
                <h4>blog
                
                
            </div>
        </div>
    </div>
</section>

        

<section>
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-md-9 col-md-offset-2 docs blog post">
                <header>
                    <h1>8 Docker productivity hacks for better living</h1>
                    <div class="date muted">By Tim Nolet on  Jun 16, 2015</div>
                    <div class="pull-right social-buttons-horizontal">

  

  <a href="https://twitter.com/share" class="twitter-share-button" data-text="" data-url="" data-hashtags="microservices">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  

  <a href="https://news.ycombinator.com/submit" class="hn-button" data-title="" data-url="" data-count="horizontal" data-style="twitter">Vote on Hacker News</a> <script type="text/javascript">var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>

</div>
                </header>
                <section>
                    

<p><img src="http://vamp.io/img/docker_nyan.svg" alt="" /></p>

<p>We&rsquo;ve been building smaller and bigger tools on/for/with Docker for roughly the last 1,5 years.
During that time I&rsquo;ve found I always come back to using little productivity hacks and one-liners that
I found on the internet or came up with myself. Here they are in one place, as much as for our own reference
as for anybody else to enjoy.  We use this stuff every day. Here we go:</p>

<h2 id="1-remove-images-that-are-no-longer-used-by-a-container">1. Remove images that are no longer used by a container</h2>

<p>Let&rsquo;s free up some disk space!</p>

<pre><code>$ docker rmi `docker images -q -f dangling=true`
</code></pre>

<h2 id="2-remove-all-exited-containers">2. Remove all exited containers</h2>

<p>Let&rsquo;s free up some more disk space!</p>

<pre><code>$ docker rm `docker ps -q -a -f status=exited`
</code></pre>

<h2 id="3-log-into-an-already-running-container">3. Log into an already running container</h2>

<p>Somehow it took me ages to figure this one out. Hope I&rsquo;m not the only dummy. Of course, the container should have some
shell installed, like bash.</p>

<pre><code>$ docker exec -i -t &lt;ID_OF_RUNNING_CONTAINER&gt; /bin/bash
</code></pre>

<h2 id="4-run-top-inside-a-container">4. Run &ldquo;top&rdquo; inside a container</h2>

<p>This one is somewhat controversial. Resource usage in Docker is <a href="https://goldmann.pl/blog/2014/09/11/resource-management-in-docker/">counterintuitive</a> and <a href="https://docs.docker.com/articles/runmetrics/">complicated</a>. Having said that, just running top
inside a container gives me a relatively good insight how things are doing in that container`s context:</p>

<pre><code>$ docker exec -t &lt;ID_OF_RUNNNIG_CONTAINER&gt; /bin/sh -c &quot;export TERM=xterm-256color &amp;&amp; top -bn 2&quot;
</code></pre>

<p>P.S: Ignore the first output cycle. Why? Because <a href="http://unix.stackexchange.com/questions/58539/top-and-ps-not-showing-the-same-cpu-result">reasons</a>.</p>

<h2 id="5-don-t-expect-anything-magic-from-the-latest-tag">5. Don&rsquo;t expect anything magic from the &ldquo;:latest&rdquo; tag</h2>

<p>One of the huge misconceptions among fresh Docker users. The <code>:latest</code> tag has no special magic. It is not the <code>HEAD</code>
in a Git log. It is not an automatic pointer to the top of of your stack of images. It is just a convention. Getting
the <code>:latest</code> version of an image implies you trust the creator of the image to really tag the last one the build with the
<code>:latest</code> tag. More info see this post by <a href="http://container-solutions.com/2015/01/docker-latest-confusion/">our friends at Container Solutions</a></p>

<h2 id="6-cut-container-download-time-with-export-load-in-vagrant">6. Cut container download time with export/load in Vagrant</h2>

<p>Not a real one-liner, but hey! When building stuff with (CoreOS) Vagrant boxes, I destroy those boxes quite often just to get a clean slate. However, my box runs Docker and stores the images inside the box. The box now has to download some of the containers I run in that box every time I refresh my environment. Let&rsquo;s fix that.</p>

<p>Just save the Docker image to disk as a tar file.</p>

<pre><code class="language-bash">docker save magneticio/myimage:1.0 &gt; /home/share/magneticio_myimage_10.tar
</code></pre>

<p>Now mount your disk to Vagrant and import it using this snippet in your Vagrantfile:</p>

<pre><code class="language-ruby"># Vagrantfile
MY_CONTAINER=&quot;magneticio_myimage_10.tar&quot;
vm.synced_folder &quot;.&quot;, &quot;/home/share&quot;, id: &quot;core&quot;, :nfs =&gt; true, :mount_options =&gt; ['nolock,vers=3,udp']
config.vm.provision :shell, :inline =&gt; &quot;export TMPDISK=/&quot;, :privileged =&gt; false
if File.exist?(MY_CONTAINER)
    config.vm.provision :shell, :inline =&gt; &quot;docker load -i /home/share/#{MY_CONTAINER}&quot;, :privileged =&gt; false
end
</code></pre>

<h2 id="7-use-boot2docker-shellinit-to-setup-your-docker-env-variables">7. Use &ldquo;boot2docker shellinit&rdquo; to setup your Docker ENV variables</h2>

<p>Destroying and restarting a lot of <a href="http://boot2docker.io/">boot2docker</a> instances on OSX? Creating too many terminal sessions? Use this your Docker client setup correctly for boot2docker.</p>

<pre><code>$ eval $(boot2docker shellinit)
</code></pre>

<h2 id="8-read-the-dockerfile-best-practices-info">8. Read the &ldquo;Dockerfile best practices&rdquo; info</h2>

<p>Really useful and compulsory reading: <a href="https://docs.docker.com/articles/dockerfile_best-practices/">https://docs.docker.com/articles/dockerfile_best-practices/</a></p>

                </section>
                <ul class="tags list-inline">
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/articles">articles</a> </li>
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/docker">Docker</a> </li>
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/tips">tips</a> </li>
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/tricks">tricks</a> </li>
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/linux">linux</a> </li>
                    
                    <li><a class="label label-default" href="http://vamp.io/tags/one-liners">one-liners</a> </li>
                    
                </ul>
                <div id="disqus_thread"></div>
<script type="text/javascript">

    (function() {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//vampio.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
</section>

<footer class="footer-1">
    <div class="container">
        <div class="row links">
            <nav>
                <div class="col-sm-3">
                    <h6>Learn more</h6>
                    <ul>
                        <li><a href="http://vamp.io/documentation/">About Vamp</a></li>
                        <li><a href="http://vamp.io/quick-start/">Quick start</a></li>
                        <li><a href="http://vamp.io/documentation/using-vamp/">Using Vamp</a></li>
                        <li><a href="http://vamp.io/documentation/guides/">Guides</a></li>
                        <li><a href="http://vamp.io/documentation/api-reference/">API reference</a></li>
                        <li><a href="http://vamp.io/documentation/cli-reference/">CLI reference</a></li>
                        <li><a href="http://vamp.io/faq/">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h6>All things code</h6>
                    <ul>
                        <li><a href="http://vamp.io/contribute/">Contribute</a></li>
                        <li><a href="http://vamp.io/documentation/community/">Issues & support</a></li>
                        <li><a href="https://github.com/magneticio/vamp/" target="_blank">Github</a></li>
                        <li><a href="https://gitter.im/magneticio/vamp" target="_blank">Gitter</a></li>
                    </ul>
                </div>
                <div class="col-sm-5">
                    <h6>Stay up to date</h6>
                    <div class="subscribe-form">
                        <p class="muted subscribe-lead">Leave your email for the latest news: we won't spam you and won't go off topic.</p>
                        <form action="//magnetic.us9.list-manage.com/subscribe/post?u=c709b3ab8cce9e00d617e01b6&amp;id=c1465e21d0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-inline" style="display: inline" target="_blank" novalidate>
                            <div class="mc-field-group input-group">
                                <input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL" placeholder="Email">
                                <span class="input-group-btn">
                                <button type="submit" value="Sign up" name="subscribe" id="mc-embedded-subscribe-2" class="btn btn-info">SIGN UP</button>
                            </span>
                            </div>
                        </form>
                    </div>
                    <p>
                        Or subscribe to our <a href="http://vamp.io/index.xml">RSS feed</a>
                    </p>
                </div>
            </nav>
        </div>
        <div class="row licensing">
            <div class="col-sm-3">
                <div class="brand hidden-xs">
                    <img src="http://vamp.io/img/magneticio_logo_gray.svg">
                </div>
            </div>
            <div class="col-sm-4">
            </div>
            <div class="col-sm-5">
                <p class="muted pull-right">
                    Code licensed under <a href="https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)">Apache 2</a> Â© 2015 <a href="http://magnetic.io/">Magnetic.io</a>
                    <br>
                </p>
            </div>
        </div>
    </div>
</footer>
<script>
(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

ga('create', 'UA-59948816-1', 'auto');
ga('send', 'pageview');
</script>
<script src="http://vamp.io/vendor/theme/common-files/js/jquery-1.10.2.min.js"></script>
<script src="http://vamp.io/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="http://vamp.io/vendor/theme/common-files/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script src="http://vamp.io/vendor/theme/common-files/js/modernizr.custom.js"></script>
<script src="http://vamp.io/vendor/theme/common-files/js/easing.min.js"></script>
<script src="http://vamp.io/vendor/theme/common-files/js/startup-kit.js"></script>
<script src="http://vamp.io/vendor/google-code-prettify/prettify.js"></script>
<script src="http://vamp.io/vendor/google-code-prettify/lang-yaml.js"></script>
<script src="http://vamp.io/vendor/google-code-prettify/lang-scala.js"></script>
<script src="http://vamp.io/vendor/prism/prism.js"></script>
<script src="http://vamp.io/js/ZeroClipboard.min.js"></script>
<script src="http://vamp.io/js/custom.js"></script>
<script>
$('document').ready(prettyPrint())
</script>
</div>
</body>

</html>

