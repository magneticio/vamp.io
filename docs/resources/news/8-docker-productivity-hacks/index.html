<!DOCTYPE html>




 <html class="no-js"> 
<head>

<script type="text/javascript">
theBaseUrl = "http://vamp.io/";
</script>
<base href="http://vamp.io/" />

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
  <title>8 Docker productivity hacks for better living - Vamp</title>
  <meta name="generator" content="Hugo 0.16" />

  
  <meta name="description" content="Vamp - Deploy and manage microservices with power and ease.">
  
  <link rel="canonical" href="./resources/news/8-docker-productivity-hacks/">
  
  <meta name="author" content="magnetic.io">
  

  <meta property="og:url" content="/resources/news/8-docker-productivity-hacks/">
  <meta property="og:title" content="Vamp">
  <meta property="og:image" content="/images/logo.svg">
  <meta name="apple-mobile-web-app-title" content="Vamp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="shortcut icon" type="image/x-icon" href="./images/logo.svg">
  <link rel="icon" type="image/x-icon" href="./images/logo.svg">


  <style>
    @font-face {
      font-family: 'Icon';
      src: url('fonts/icon.eot?52m981');
      src: url('fonts/icon.eot?#iefix52m981')
      format('embedded-opentype'),
      url('fonts/icon.woff?52m981')
      format('woff'),
      url('fonts/icon.ttf?52m981')
      format('truetype'),
      url('fonts/icon.svg?52m981#icon')
      format('svg');
      font-weight: normal;
      font-style: normal;
    }
  </style>

  <link rel="stylesheet" href="css/style.css">

  <script src="js/vendor.js"></script>

  <script src="js/app.js"></script>

  
</head>
<body class="palette-primary-pink palette-accent-pink">


<div class="single-page">
  <nav aria-label="Header" id="header" class="top-menu">
  <div class="left">
    <a href="./">
      <div id="logo" class="logo"></div>
    </a>
  </div>

  <div class="right">
    <div class="top-menu-items" id="top-menu-items">

    </div>

    <div class="download">
      <a href="./documentation/installation/hello-world/" class="button button--red">
        Try Vamp
      </a>
    </div>

    <a href="https://github.com/magneticio/vamp" target="_blank" class="github-logo">
      <i class="fa fa-2x fa-github" aria-hidden="true"></i>
    </a>

    <div class="search-button">
      <i class="fa fa-lg fa-search"></i>
    </div>

  </div>
</nav>

<ul id="mobile-menu" style="display: none">
</ul>

<div id="search">
  <div class="search-bar">
    <div class="search-bar__back">
      <i class="fa fa-lg fa-times"></i>
    </div>
    <input class="search-bar__input" placeholder="Type your search here...">
  </div>
  <div class="search-results">
    <ul></ul>
  </div>
</div>


</div>

<div class="page documentation">
    <div class="menu" id="side-menu">
    </div>
    <div class="content">
      <h1 class="content-header">8 Docker productivity hacks for better living </h1>
      <div class="markdowned">
        

<p><img src="./img/docker_nyan.svg" alt="" /></p>

<p>We&rsquo;ve been building smaller and bigger tools on/for/with Docker for roughly the last 1,5 years.
During that time I&rsquo;ve found I always come back to using little productivity hacks and one-liners that
I found on the internet or came up with myself. Here they are in one place, as much as for our own reference
as for anybody else to enjoy.  We use this stuff every day. Here we go:</p>

<h2 id="1-remove-images-that-are-no-longer-used-by-a-container">1. Remove images that are no longer used by a container</h2>

<p>Let&rsquo;s free up some disk space!</p>

<pre><code>$ docker rmi `docker images -q -f dangling=true`
</code></pre>

<h2 id="2-remove-all-exited-containers">2. Remove all exited containers</h2>

<p>Let&rsquo;s free up some more disk space!</p>

<pre><code>$ docker rm `docker ps -q -a -f status=exited`
</code></pre>

<h2 id="3-log-into-an-already-running-container">3. Log into an already running container</h2>

<p>Somehow it took me ages to figure this one out. Hope I&rsquo;m not the only dummy. Of course, the container should have some
shell installed, like bash.</p>

<pre><code>$ docker exec -i -t &lt;ID_OF_RUNNING_CONTAINER&gt; /bin/bash
</code></pre>

<h2 id="4-run-top-inside-a-container">4. Run &ldquo;top&rdquo; inside a container</h2>

<p>This one is somewhat controversial. Resource usage in Docker is <a href="https://goldmann.pl/blog/2014/09/11/resource-management-in-docker/">counterintuitive</a> and <a href="https://docs.docker.com/articles/runmetrics/">complicated</a>. Having said that, just running top
inside a container gives me a relatively good insight how things are doing in that container`s context:</p>

<pre><code>$ docker exec -t &lt;ID_OF_RUNNNIG_CONTAINER&gt; /bin/sh -c &quot;export TERM=xterm-256color &amp;&amp; top -bn 2&quot;
</code></pre>

<p>P.S: Ignore the first output cycle. Why? Because <a href="http://unix.stackexchange.com/questions/58539/top-and-ps-not-showing-the-same-cpu-result">reasons</a>.</p>

<h2 id="5-don-t-expect-anything-magic-from-the-latest-tag">5. Don&rsquo;t expect anything magic from the &ldquo;:latest&rdquo; tag</h2>

<p>One of the huge misconceptions among fresh Docker users. The <code>:latest</code> tag has no special magic. It is not the <code>HEAD</code>
in a Git log. It is not an automatic pointer to the top of of your stack of images. It is just a convention. Getting
the <code>:latest</code> version of an image implies you trust the creator of the image to really tag the last one the build with the
<code>:latest</code> tag. More info see this post by <a href="http://container-solutions.com/2015/01/docker-latest-confusion/">our friends at Container Solutions</a></p>

<h2 id="6-cut-container-download-time-with-export-load-in-vagrant">6. Cut container download time with export/load in Vagrant</h2>

<p>Not a real one-liner, but hey! When building stuff with (CoreOS) Vagrant boxes, I destroy those boxes quite often just to get a clean slate. However, my box runs Docker and stores the images inside the box. The box now has to download some of the containers I run in that box every time I refresh my environment. Let&rsquo;s fix that.</p>

<p>Just save the Docker image to disk as a tar file.</p>

<pre><code class="language-bash">docker save magneticio/myimage:1.0 &gt; /home/share/magneticio_myimage_10.tar
</code></pre>

<p>Now mount your disk to Vagrant and import it using this snippet in your Vagrantfile:</p>

<pre><code class="language-ruby"># Vagrantfile
MY_CONTAINER=&quot;magneticio_myimage_10.tar&quot;
vm.synced_folder &quot;.&quot;, &quot;/home/share&quot;, id: &quot;core&quot;, :nfs =&gt; true, :mount_options =&gt; ['nolock,vers=3,udp']
config.vm.provision :shell, :inline =&gt; &quot;export TMPDISK=/&quot;, :privileged =&gt; false
if File.exist?(MY_CONTAINER)
    config.vm.provision :shell, :inline =&gt; &quot;docker load -i /home/share/#{MY_CONTAINER}&quot;, :privileged =&gt; false
end
</code></pre>

<h2 id="7-use-boot2docker-shellinit-to-setup-your-docker-env-variables">7. Use &ldquo;boot2docker shellinit&rdquo; to setup your Docker ENV variables</h2>

<p>Destroying and restarting a lot of <a href="http://boot2docker.io/">boot2docker</a> instances on OSX? Creating too many terminal sessions? Use this your Docker client setup correctly for boot2docker.</p>

<pre><code>$ eval $(boot2docker shellinit)
</code></pre>

<h2 id="8-read-the-dockerfile-best-practices-info">8. Read the &ldquo;Dockerfile best practices&rdquo; info</h2>

<p>Really useful and compulsory reading: <a href="https://docs.docker.com/articles/dockerfile_best-practices/">https://docs.docker.com/articles/dockerfile_best-practices/</a></p>

      </div>
    </div>
</div>

<div class="lander-row lander-row--blue footer">
  <div class="container">
    <div class="row">
      <div class="col col-3">
        <h2 class="h2">Learn more</h2>
        <a href="./why-use-vamp/">
          <p class="text">Why use Vamp?</p>
        </a>
        <a href="./documentation/how-vamp-works/architecture-and-components">
          <p class="text">Documentation</p>
        </a>
        <a href="./about/">
          <p class="text">About us</p>
        </a>
        <a href="./resources/news/">
          <p class="text">News</p>
        </a>
        <a href="./contact/">
          <p class="text">Contact</p>
        </a>
      </div>
        <div class="col col-6">
        <h2 class="h2">All things code</h2>
          <a href="./support/">
            <p class="text">Support</p>
          </a>
          <a href="./resources/community/">
            <p class="text">Community</p>
          </a>
          <a href="https://github.com/magneticio/vamp" target="_blank">
            <p class="text">GitHub</p>
          </a>
          <a href="https://gitter.im/magneticio/vamp" target="_blank">
            <p class="text">Gitter</p>
          </a>
      </div>
      <div class="col col-6">
        <h2 class="h2">Stay up to date</h2>
        <p class="text">
          Leave your email for the latest news: We won’t spam you and won’t go off topic.
        </p>

        <form action="//magnetic.us9.list-manage.com/subscribe/post?u=c709b3ab8cce9e00d617e01b6&amp;id=c1465e21d0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-inline" style="display: inline" target="_blank" novalidate="">
          <div class="input-group">
            <input type="email" name="EMAIL" id="mce-EMAIL" placeholder="Email">
            <a onclick="$(this).closest('form').submit()" class="button button--red not-active">
              <div class="button__icon button__icon--mail">
              </div>
            </a>
          </div>
        </form>

        
          
        


        <div class="social-buttons">
          <p class="text">Follow us on: </p>
          <a href="https://twitter.com/vamp_io" target="_blank">
            <i class="fa fa-2x fa-twitter"></i>
          </a>

          <a href="https://www.linkedin.com/company/magnetic-io" target="_blank">
            <i class="fa fa-2x fa-linkedin"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="footer-bottom lander-row--blue">
  <div class="container">
    <div class="part">
      <a href="./about/"><img class="magnetic-logo" src="./img/005-vamp/Logo/magnetic-logo-footer.svg" alt=""></a>
    </div>
    <div class="part">
      <img class="vamp-bat" src="./img/003-Small-icons/Medium-blue/VAMP-Medium.svg" alt="">
      <p class="text">Code licensed under <a type="application/rss+xml" href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2</a> © 2016 <a href="./about/">Magnetic.io</a></p>
    </div>
  </div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59948816-1', 'auto');
  ga('send', 'pageview');

</script>

